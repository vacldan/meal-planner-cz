<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
        }
        .cover {
            text-align: center;
            padding-top: 5cm;
        }
        .cover h1 {
            font-size: 42px;
            color: #2c5f2d;
            margin-bottom: 0.5cm;
        }
        .cover p {
            font-size: 18px;
            color: #666;
        }
        .section {
            page-break-before: always;
            margin-top: 1cm;
        }
        h2 {
            color: #2c5f2d;
            border-bottom: 3px solid #2c5f2d;
            padding-bottom: 10px;
            margin-top: 1.5cm;
        }
        .recipe {
            margin-bottom: 1.5cm;
            page-break-inside: avoid;
        }
        .recipe h3 {
            color: #2c5f2d;
            font-size: 24px;
            margin-bottom: 10px;
        }
        .recipe-meta {
            background: #f0f8f0;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        .recipe-meta span {
            display: inline-block;
            margin-right: 20px;
            font-weight: bold;
        }
        .ingredients {
            background: #fffef8;
            padding: 15px;
            border-left: 4px solid #ffa500;
            margin: 15px 0;
        }
        .ingredients h4 {
            margin-top: 0;
            color: #d68000;
        }
        .ingredients ul {
            margin: 0;
            padding-left: 20px;
        }
        .steps ol {
            padding-left: 20px;
        }
        .steps li {
            margin-bottom: 10px;
        }
        .shopping-list {
            column-count: 2;
            column-gap: 2cm;
        }
        .shopping-category {
            break-inside: avoid;
            margin-bottom: 20px;
        }
        .shopping-category h4 {
            color: #2c5f2d;
            margin-bottom: 10px;
        }
        .checkbox {
            display: inline-block;
            width: 15px;
            height: 15px;
            border: 2px solid #2c5f2d;
            margin-right: 10px;
            vertical-align: middle;
        }
        .total-cost {
            background: #e8f5e9;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            font-size: 20px;
            margin-top: 30px;
        }
        .weekly-overview-item {
            margin: 15px 0;
            padding: 10px;
            background: #f9f9f9;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <!-- Cover Page -->
    <div class="cover">
        <h1>üçΩÔ∏è Tv≈Øj T√Ωdenn√≠ J√≠deln√≠ƒçek</h1>
        <p>7 veƒçe≈ô√≠ + kompletn√≠ n√°kupn√≠ seznam</p>
        <p style="margin-top: 2cm; font-size: 16px;">T√Ωden: {{ week_of }}</p>
    </div>

    <!-- Weekly Overview -->
    <div class="section">
        <h2>üìÖ T√Ωdenn√≠ P≈ôehled</h2>
        {% for day, recipe in meals.items() %}
        <div class="weekly-overview-item">
            <strong style="text-transform: capitalize;">
                {% if day == 'monday' %}Pondƒõl√≠
                {% elif day == 'tuesday' %}√öter√Ω
                {% elif day == 'wednesday' %}St≈ôeda
                {% elif day == 'thursday' %}ƒåtvrtek
                {% elif day == 'friday' %}P√°tek
                {% elif day == 'saturday' %}Sobota
                {% elif day == 'sunday' %}Nedƒõle
                {% endif %}:</strong>
            {{ recipe.name }}
            <span style="color: #666;">({{ recipe.time_minutes }} min, {{ recipe.price_per_portion_czk }} Kƒç/porce)</span>
        </div>
        {% endfor %}

        <div class="total-cost">
            <strong>Celkov√° cena t√Ωdne: {{ total_cost_czk }} Kƒç</strong><br>
            <span style="font-size: 16px;">({{ cost_per_portion_czk }} Kƒç na porci)</span>
        </div>
    </div>

    <!-- Recipes -->
    {% for day, recipe in meals.items() %}
    <div class="section recipe">
        <h3>{{ recipe.name }}</h3>

        <div class="recipe-meta">
            <span>‚è±Ô∏è ƒåas: {{ recipe.time_minutes }} minut</span>
            <span>üë• Porce: {{ recipe.servings }}</span>
            <span>üìä Obt√≠≈ænost: {{ recipe.difficulty }}</span>
            <span>üí∞ {{ recipe.price_per_portion_czk }} Kƒç/porce</span>
        </div>

        <div class="ingredients">
            <h4>Ingredience:</h4>
            <ul>
                {% for ingredient in recipe.ingredients %}
                <li>{{ ingredient.name }} - {{ ingredient.amount }}</li>
                {% endfor %}
            </ul>
        </div>

        <div class="steps">
            <h4>Postup:</h4>
            <ol>
                {% for step in recipe.steps %}
                <li>{{ step }}</li>
                {% endfor %}
            </ol>
        </div>
    </div>
    {% endfor %}

    <!-- Shopping List -->
    <div class="section">
        <h2>üõí N√°kupn√≠ Seznam</h2>
        <p><em>Vytiskni si nebo ulo≈æ do mobilu pro jednoduch√Ω n√°kup</em></p>

        <div class="shopping-list">
            {% for category, items in shopping_list.items() %}
            <div class="shopping-category">
                <h4 style="text-transform: uppercase;">
                    {% if category == 'meat' %}MASO & RYBY
                    {% elif category == 'vegetables' %}ZELENINA & OVOCE
                    {% elif category == 'dairy' %}ML√âƒåN√â V√ùROBKY
                    {% elif category == 'pantry' %}TRVANLIV√â
                    {% else %}{{ category }}
                    {% endif %}
                </h4>
                {% for item in items %}
                <div style="margin: 5px 0;">
                    <span class="checkbox"></span>{{ item }}
                </div>
                {% endfor %}
            </div>
            {% endfor %}
        </div>

        <div class="total-cost">
            <strong>Odhadovan√° cena n√°kupu: {{ total_cost_czk }} Kƒç</strong>
        </div>
    </div>
</body>
</html>
